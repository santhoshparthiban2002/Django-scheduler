
# **Django Scheduler**
This Django website has a module that allows tasks to be scheduled and automatically executed at specific times in the background. The website saves the details of each job and its execution on its database. This means that the website module can perform tasks automatically without human intervention, making it more efficient.

## Installation

Install python modules

```bash
    pip install django
    pip install APScheduler
```

## Setup
- Start a Django project

 ```bash
    django-admin startproject scheduler
```
- Change the current working directory to the "scheduler" directory

 ```bash
    cd scheduler
```
- Start a Django app

 ```bash
    django-admin startapp home
```
## Settings.py
The settings.py file is a module that contains the configuration settings for a Django project. It includes various settings such as database configuration, installed apps, middleware, static file paths, and many more.


Add home to the INSTALLED_APPS
 ```bash
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'home',
] 
```
Add SCHEDULER_DEFAULT to the settings.py
 ```bash
SCHEDULER_DEFAULT = True
```

## Models.py
The models.py file is a module that defines the data models for a Django app. A data model represents the structure of a database table and the relationships between different tables.

The models.py file typically contains one or more Python classes that extend the django.db.models.Model class. Each attribute of the class represents a field of the corresponding database table, and the types of the fields are specified using Django's built-in field classes (e.g., CharField, IntegerField, ForeignKey, etc.).
### Create Model Job
 ```bash
class Job(models.Model):
    job_name = models.CharField(max_length=100)
    next_run_time = models.DateTimeField(null=True, blank=True)
    def __str__(self):
        return self.job_name
 ```

### Create Model JobExecution

 ```bash
class JobExecution(models.Model):
    job = models.ForeignKey(Job, on_delete=models.CASCADE)
    runtime = models.DateTimeField(auto_now_add=True)
    error = models.TextField(null=True, blank=True)
    status = models.CharField(max_length=100)
    def __str__(self):
        return f"{self.job} - {self.runtime}"
 ```
## Migrate the database

 ```bash
python manage.py makemigrations
 ```
This command is used to create new database migrations based on the changes you have made to your Django models. A database migration is a file that contains instructions for how to modify the database schema to match your model changes. Running this command generates the migration files, which you can review and then apply to the database using the **migrate** command.


  ```bash
python manage.py migrate
 ```
This command is used to apply database migrations to the database. It reads the migration files that were generated by the makemigrations command, and applies them to the database to create or modify tables, columns, and other database objects. Running this command ensures that your database schema is up-to-date with your Django models.


  ```bash
python manage.py createsuperuser
Username: scheduler
Email address: scheduler@gmail.com
Password:
Password (again):
 ```
This command is used to create a new superuser account in your Django project. A superuser is a user with all permissions and can access the Django admin interface. Running this command prompts you to enter a username, email, and password for the new superuser account. Once created, you can use the superuser account to log in to the Django admin interface and manage your project's data.
## Admin.py
The admin.py is a module that allows you to define the configuration of the Django admin interface for your models. This module defines the appearance and functionality of the admin interface, including which fields are displayed and how they are displayed, what filters are available, and what actions can be taken on individual objects or groups of objects.

  ```bash
from .models import Job,JobExecution
admin.site.register(Job)
admin.site.register(JobExecution)
```
